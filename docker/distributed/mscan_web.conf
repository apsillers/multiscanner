<VirtualHost *:80>
    ServerName msweb

#{% if servers_use_ssl == True %}
#    LoadModule ssl_module {{ mod_ssl_system_module }}
#    SSLEngine on
#    SSLCertificateFile "{{ apache_cert_folder_root }}/{{ webserver_cert_file }}"
#    SSLCertificateKeyFile "{{ apache_cert_folder_root }}/private/{{ webserver_cert_key_file }}"
#{% endif %}

    LoadModule wsgi_module {{ mod_wsgi_system_module }}
    WSGIDaemonProcess mscan_web threads=5 python-path=/opt/multiscanner/web
    WSGIScriptAlias / /opt/multiscanner/web/mscan_web.wsgi

    <Directory /opt/multiscanner>
        WSGIProcessGroup mscan_web
        WSGIScriptReloading On
        WSGIApplicationGroup %{GLOBAL}
        Order deny,allow
        Allow from all
        Require all granted
    </Directory>

    Alias /static/ /opt/multiscanner/web/static/
    <Directory /opt/multiscanner/web/static>
            Order allow,deny
            Allow from all
            Require all granted
    </Directory>

    Alias /templates/ /opt/multiscanner/web/templates/
    <Directory /opt/multiscanner/web/templates>
            Order allow,deny
            Allow from all
            Require all granted
    </Directory>

    ErrorLog /var/log/mscanweb/error.log
    LogLevel debug
    CustomLog /var/log/mscanweb/access.log combined
</VirtualHost>
